<meta charset="utf-8">
<script type="text/javascript">
	var <@popupId> = {
		 brandId	: G_VAL.session.BRAND_ID
		,close : function(returnData) {
			if(isEmpty(returnData)) returnData = {};
			C_POP.close(returnData);
		 }
		,loadComponent : function(parm) {
			
			// Code List 읽어오기
			var group1CdList = C_COM.getBrandCodeList(<@popupId>.brandId, "STORE_MENU_GROUP1");
			var group2CdList = C_COM.getBrandCodeList(<@popupId>.brandId, "STORE_MENU_GROUP2");

			let gridParm = {
					 tableName		: "TBL_EXP_BRAND_MENU_MASTER"
					,columnMap 		: {
						 "BRAND_ID"      	: { headerText : "브랜드ID"	, hidden : "Y"}
						,"MENU_CD" 		: { headerText : "메뉴CD"	} 
						,"MENU_NM"       	: { headerText : "메뉴명" 	}
						,"COST_PRICE"    	: { headerText : "원가"     }
						,"SELLING_PRICE" 	: { headerText : "판매가"   }
						,"GROUP_1"      	: { headerText : "대분류", columnType : "selectbox"	}
						,"GROUP_2"      	: { headerText : "중분류", columnType : "selectbox"	}
					 }
					,columnConfig 		: {
						 selectBoxCodeList 	: {
						 	 "GROUP_1" : group1CdList
						 	,"GROUP_2" : group2CdList
						 }
					 }
					,primaryKeyList		: ["BRAND_MENU_CD", "BRAND_ID"]
					,searchColumnList	: ["BRAND_MENU_CD", "BRAND_ID", "MENU_NM"]		// Table 지정인경우 적용
					,orderColumnList 	: ["GROUP_1 ASC", "GROUP_2 ASC", "MENU_NM ASC"] // ORDER BY에 사용
					,rowCntId			: "<@pageId>_rowCnt"							// 목록 개수 표시 target Id(dom)
					,filterWhere		: `BRAND_ID = '${<@popupId>.brandId}'`
			}
			C_COMP.import("baseMenuManageGrid", "component_compGrid",{gridParm : gridParm} , function() {});		
		 }
		,save : function() {
			<@popupId>["baseMenuManageGrid"].save(function(returnData) {
				dalert(returnData);
			});
		 }
		,reload : function() {
			let searchValue = $("#<@popupId> #searchValue").val();
			<@popupId>["baseMenuManageGrid"].reload({ searchValue : searchValue });
		 }
	}
	// Popup Load가 완료된후 실행 된다.
	C_POP.onLoadPopup("<@popupId>", function(data) {
		<@popupId>.loadComponent();
	});
</script>
  <!-- modal-popup start -->
  <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <!-- header start -->
        <div class="modal-header srch-pop-inwrap">
          <h5 class="modal-title col9 col8-md col7-sm" id="exampleModalLongTitle">본사 메뉴 편집</h5>
          <!-- button start -->
          <div class="txt-r col1 col2-md col3-sm">
            <button type="button" class="win-fullcls" onclick="C_POP.normalSize('<@popupId>')">
            </button>
            <!-- <button type="button" class="win-full" onclick="C_POP.fullSize('<@popupId>')"> -->
            <button type="button" class="win-full" onclick="C_POP.maxSize('<@popupId>')">
            
            </button>
            <button type="button" class="close" aria-label="Close" onclick="<@popupId>.close()">
              <span class="pop-cls" aria-hidden="true"></span>
            </button>
          </div>
          <!-- button end -->
        </div>
        <!-- header end -->
        <div class="modal-body">                            
			<!-- search filter box start -->
			<div class="display-between display-sm-between">
				<div class="col4-md col10-sm display-h-end">
					<span class="col2-sm w80px mb3">검색어</span>
					<input type="text" class="form-control form-control-sm mr5" id="searchValue" onEnter="<@pageId>.reload()">
					<button class="srch-btn" type="button" onclick="<@pageId>.reload()">검 색</button>
				</div>
				<div class="display-w-end col4 col4-md col10-sm">
	                <div class="brd-fr-deco01 form-check-wrap mr20 pr20">
	                    <input type="checkbox">
	                    <label>수정(신규) 항목만 표시</label>
	                </div>          
					<span class="col2-sm w120px txt-r mr10">Total : <span class="txt-red" id="<@pageId>_rowCnt"></span></span>
					&nbsp;&nbsp;<button class="flat-btn col2-sm" type="button" onclick="<@popupId>.save()">저장</button>
				</div>
			</div>
			<!-- search filter box end --> 

			<!-- table area start -->
			<compnent id="baseMenuManageGrid"></compnent>    
			<!-- table area end -->        
        </div>
        <!-- footer start -->
        <div class="modal-footer">
          <button type="button" class="btn outline-btn mr20" onclick="<@popupId>.close()">Close</button>
        </div>
        <!-- footer end -->
      </div>
    </div>
  </div>                      
  <!-- modal-popup end -->
