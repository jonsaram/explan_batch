<meta charset="utf-8">
<script type="text/javascript">
	var <@pageId> = {
		openEditMultiTable : function() {
			C_POP.open("popup_headerManage_recipeMaterialsEditPopup", {}, function(retData){
				if(retData.reload == "Y") {
					<@pageId>["<@pageId>_tableGrid"].reload();
				}
			});
		}
	}
	
	// Page Load가 완료된후 실행 된다.
	C_PM.onLoadPage("<@pageId>", function(parm1) {
		let sendParm = {
			gridParm : {
				 requestQuery 	: {
					  queryId		: "headerManage.getRecipeIngredientList"
					 ,requestParm	: {
						 BRAND_ID : G_VAL.session.BRAND_ID
					 }
				 }	
				,tableName		: "TBL_EXP_RECIPE"
				,columnMap 		: {
					 "RECIPE_CD" 	: { headerText : "레시피CD" }
					,"RECIPE_NM" 	: { headerText : "레시피명" , align : "left"}
					,"INGREDIENT_CD": { headerText : "식자재CD" }
					,"INGREDIENT_NM": { headerText : "식자재명" }
					,"UNIT" 		: { headerText : "사용단위" }
					,"QUANTITY" 	: { headerText : "사용량" 	, dataType : "number"}
				 }
				,headerTextGroup	: {
					"구성 식자재 List" : [
						 "INGREDIENT_CD" 
						,"INGREDIENT_NM" 
						,"UNIT" 		
						,"QUANTITY" 	
					]
				 }
				,columnConfig 	: {
				 }
				,primaryKeyList	: ["RECIPE_CD"]
				,readOnly			: "Y"
				,cellMergeList		: [["RECIPE_CD", "RECIPE_NM", 1]]
				
			 }
			,callbackEditButton : function(parm) {
				<@pageId>.openEditMultiTable();
			 }
		}
		C_COMP.import("<@pageId>_tableGrid", "component_compTableEditor",sendParm , function() {});		
		
	});
	
	// History back으로 이동해왔을 경우 이루틴이 실행된다.
	C_HM.onReturn("<@pageId>", function(pageId, data) {

	});
</script>


<page-component>

    <!-- table area start -->
	<compnent id="<@pageId>_tableGrid"></compnent>    
    <!-- table area end -->

</page-component>