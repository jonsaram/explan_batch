<meta charset="utf-8">
<script type="text/javascript">
	var <@pageId> = {
		 brandId	: G_VAL.session.BRAND_ID
		,loadComponent : function(parm) {
			let sendParm = {
				gridParm : {
					 requestQuery : {
						 queryId : "system.getRoleList"
						,requestParm : {}
					 }
					,tableName		: "TBL_EXP_ROLE"
					,columnMap 		: {
						 "ROLE_ID"		: { headerText : "Role ID"		}
						,"ROLE_NM"		: { headerText : "Role 명"		}
						,"MENU_ID"		: { headerText : "메뉴 ID"		}
						,"MENU_NM"		: { headerText : "메뉴명"	,align : "left"	}
						,"MENU_DEPTH"	: { headerText : "메뉴깊이"		}
						,"AUTH_TYPE"	: { headerText : "권한Type"		}
					 }
					,columnConfig 	: {
					 }
					,primaryKeyList		: ["ROLE_ID", "MENU_ID"]
					,searchColumnList	: ["ROLE_ID", "MENU_ID", "ROLE_NM", "MENU_NM"]		
					,orderColumnList 	: ["ROLE_ID", "MENU_ID"]
					,cellMergeList		: [["ROLE_ID", "ROLE_NM", 1]]
				 }
				// Edit 버튼에 대한 Overide처리
				 ,callbackEditButton : function(parm) {
					<@pageId>.openRoleEditTable();
				 }
			}
			C_COMP.import("roleManageGrid", "component_compTableEditor",sendParm , function() {});		
		 }
		,openRoleEditTable : function() {
			C_POP.open("popup_system_roleEditPopup", {popupTitle 	: "Role 편집"}, function(retData){
				if(retData.reload == "Y") {
					<@pageId>.roleManageGrid.reload();
				}
			});
		 }
	}
	// Page Load가 완료된후 실행 된다.
	C_PM.onLoadPage("<@pageId>", function(parm) {
		<@pageId>.loadComponent(parm);
	});
	// History back으로 이동해왔을 경우 이루틴이 실행된다.
	C_HM.onReturn("<@pageId>", function(pageId, data) {

	});
</script>
<page-component>
    <!-- table area start -->
	<compnent id="roleManageGrid"></compnent>    
    <!-- table area end -->
</page-component>